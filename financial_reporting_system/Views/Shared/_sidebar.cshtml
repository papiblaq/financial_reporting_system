@* Define the menu items list *@
@{
    List<object> menuItems = new List<object>
    {
        new { id = "menuItem1", text = "Financial Statements", separator = true },
        new { id = "menuItem2", text = "Files upload", url = "/Statement_types", iconCss = "fa-solid fa-file-invoice" },
        new { id = "menuItem3", text = "Statement Sheets", url = "/Sheet", iconCss = "fa-solid fa-receipt" },
        new { id = "menuItem4", text = "Statement Header", url = "/StatementHeader", iconCss = "fa-solid fa-diamond" },
        new { id = "menuItem5", text = "Statement Details", url = "/StatementDetails", iconCss = "fa-solid fa-circle-info" },

        new { id = "menuItem6", text = "Financial Mapping", separator = true },
        new { id = "menuItem7", text = "Statement Mapping", url = "/Mapping", iconCss = "fa-solid fa-magnifying-glass-dollar" },
        new { id = "menuItem8", text = "Financial Reporting", url = "/Documentation", iconCss = "fa-solid fa-file-excel" },

        new { id = "menuItem9", text = "Extraction of Workbook Data", separator = true },
        new { id = "menuItem10", text = "upload report ", url = "/Excel/Upload", iconCss = "fa-solid fa-object-ungroup" },
        new { id = "menuItem11", text = "report initialisation ", url = "/ExcelWorkbook_Statement_types", iconCss = "fa-solid fa-bookmark" },
        new { id = "menuItem12", text = "Report Mapping", url = "/ExcelWorkbookMapping", iconCss = "fa-solid fa-envelopes-bulk" },
        new { id = "menuItem13", text = "Report cells", url = "/ExcelMapping_Documentation", iconCss = "fa-solid fa-folder-tree" },
        new { id = "menuItem14", text = "Report Extraction", url = "/ExcelMapping_Documentation/ExcelWorkbookUpload", iconCss = "fa-solid fa-download" },
    };
}

<ejs-sidebar id="sidebar" width="290px" enableDock="true" dockSize="100px" target=".dock-target" enableGestures="false">
    <e-content-template>
        <div class="sidebar-content">
            <!-- Wrapper for sidebar content -->
            <div class="logo-wrapper">
                <i class="fa-solid" id="sidebar-toggler"></i>
                <div class="app-logo">
                    <img src="~/logo (2).jpg" />
                </div>
            </div>

            <div class="profile-wrapper">
                <img class="profilePic" src="~/neptunePic.jpg" />
                <div class="titles d-flex flex-column p-3">
                    <h6 class="mb-0">@ViewBag.PortfolioName</h6>
                    <span class="text-muted">Neptune software group</span>
                </div>
            </div>

            @* Pass the menu items directly to the ejs-menu *@
            <ejs-menu id="menu" items="menuItems" orientation="Vertical" hamburgerMode="true"></ejs-menu>
        </div>
    </e-content-template>
</ejs-sidebar>

<!-- Styling -->
<style>
    /* Sidebar container styling */
    #sidebar {
        background-color: rgba(255, 255, 255, 0.9); /* Semi-transparent white background */
        color: #000000; /* Black text color */
        font-family: Arial, sans-serif;
        border-right: 1px solid rgba(221, 221, 221, 0.5); /* Semi-transparent border */
        display: flex;
        flex-direction: column;
        justify-content: flex-start; /* Align content to the top */
        align-items: center; /* Align content horizontally */
        height: 100vh; /* Full height of the viewport */
        backdrop-filter: blur(8px); /* Add a blur effect for a modern look */
        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
    }

    /* Wrapper for sidebar content */
    .sidebar-content {
        width: 100%; /* Take full width of the sidebar */
        height: calc(100vh - 20px); /* Adjust height to fit within the sidebar */
        overflow-y: auto; /* Enable vertical scrollbar */
        padding-bottom: 20px; /* Add some padding at the bottom */
    }

    /* Logo */
    .logo-wrapper {
        height: 70px;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent background for logo */
        border-bottom: 1px solid rgba(221, 221, 221, 0.5); /* Semi-transparent border */
    }

    .app-logo {
        padding: 10px 10px;
    }

        .app-logo img {
            max-height: 100%;
            max-width: 100%;
            height: auto;
            width: auto;
            opacity: 0.9; /* Slightly transparent logo */
        }

    #sidebar-toggler {
        font-size: 1.5rem;
        cursor: pointer;
        color: #2c3e50; /* Dark color for toggler */
        opacity: 0.8; /* Slightly transparent toggler */
    }

    /* Profile section styling */
    .profile-wrapper {
        display: flex;
        align-items: center;
        padding: 15px;
        border-bottom: 1px solid rgba(221, 221, 221, 0.5); /* Semi-transparent border */
        background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent background */
    }

    .profilePic {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-right: 15px;
        opacity: 0.9; /* Slightly transparent profile picture */
    }

    .titles h6 {
        margin: 0;
        color: #2c3e50; /* Adjust text color */
        opacity: 0.9; /* Slightly transparent text */
    }

    .titles span {
        font-size: 0.85rem;
        color: #7f8c8d; /* Muted text color */
        opacity: 0.8; /* Slightly transparent text */
    }

    /* Menu styling */
    #menu {
        display: flex;
        flex-direction: column; /* Stack menu items vertically */
        justify-content: center; /* Center items vertically */
        align-items: center; /* Center items horizontally */
        width: 100%; /* Make menu take full width */
        background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent background */
    }

    .menu-item-style {
        color: black !important;
        background-color: rgba(255, 255, 255, 0.8) !important;
        opacity: 0.9 !important;
    }
        /* Menu item styling */
        #menu .e-menu-item  {
            color: #000000; /* Black text color for menu items */
            padding: 10px 15px;
            cursor: pointer;
            background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent background */
            display: flex; /* Use flexbox */
            align-items: center; /* Center vertically */
            justify-content: start; /* Align text to the left */
            height: 50px; /* Set a consistent height for the menu item */
            width: 100%; /* Ensure each menu item takes the full width of the container */
            border-bottom: 1px solid rgba(221, 221, 221, 0.5); /* Semi-transparent border */
            opacity: 0.9; /* Slightly transparent menu items */
        }

        #menu .e-menu-item a {
            width: 100px;
            color: #212f3d;
            font-weight: 500;
            padding: 7px 5px;
            box-sizing: border-box;
        }

            /* Change the menu text color to black and background to #39FF14 on hover */
            #menu .e-menu-item:hover {
                background-color: rgba(57, 255, 20, 0.8); /* Semi-transparent bright green hover background */
                color: #000000; /* Black text on hover */
            }

            /* Active menu item styling */
            #menu .e-menu-item.active {
                background-color: rgba(57, 255, 20, 0.8); /* Semi-transparent bright green background for active state */
                color: #000000; /* Black text for active item */
            }

            /* Icon color */
            #menu .e-menu-item .e-icons {
                color: #000000; /* Set icons to black */
            }

        /* Smooth hover transition */
        #menu .e-menu-item {
            transition: background-color 0.3s ease, color 0.3s ease, opacity 0.3s ease;
        }

</style>




<!-- JavaScript -->
<script>



    document.addEventListener('DOMContentLoaded', function () {
        const dockBar = document.getElementById('sidebar').ej2_instances[0];
        const menu = document.getElementById('menu');

        // Sidebar toggler
        document.getElementById('sidebar-toggler').onclick = function () {
            dockBar.toggle();
        };

        // Highlight active menu item
        const setActiveMenuItem = (menuItemId) => {
            const items = menu.ej2_instances[0].items;
            items.forEach(item => document.getElementById(item.id)?.classList.remove('active'));
            const activeItem = document.getElementById(menuItemId);
            if (activeItem) {
                activeItem.classList.add('active');
            }
        };

        // Save active menu item to localStorage
        menu.addEventListener('click', function (e) {
            if (e.target.closest('.e-menu-item')) {
                const menuItemId = e.target.closest('.e-menu-item').id;
                localStorage.setItem('activeMenuItem', menuItemId);
                setActiveMenuItem(menuItemId);
            }
        });

        // Restore active menu item on page load
        const savedMenuItemId = localStorage.getItem('activeMenuItem');
        if (savedMenuItemId) {
            setActiveMenuItem(savedMenuItemId);
        }
    });
</script>
